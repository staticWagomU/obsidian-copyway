# Copyway

[![License: 0BSD](https://img.shields.io/badge/License-0BSD-blue.svg)](https://opensource.org/licenses/0BSD)

[English](README.md)

アクティブなファイルを事前に設定した外部フォルダへ素早くコピーできる [Obsidian](https://obsidian.md) プラグインです。

## 機能

- **ワンクリックでファイルコピー**: 現在開いているファイルを外部フォルダへ即座にコピー
- **複数のコピー先**: 複数のコピー先を設定し、必要に応じてモーダルから選択可能
- **上書き制御**: ファイルを自動で上書きするか、確認を求めるかを設定可能
- **リボンアイコン**: サイドバーのリボンから直接コピーコマンドを実行可能
- **スマートな競合処理**: ファイルが存在し上書きが無効な場合、上書き・リネーム・キャンセルから選択可能

## インストール

### Obsidian コミュニティプラグインから（準備中）

1. Obsidian の設定を開く
2. コミュニティプラグインに移動し、セーフモードを無効化
3. 「閲覧」をクリックし、「Copyway」を検索
4. プラグインをインストールして有効化

### 手動インストール

1. [Releases](https://github.com/staticWagomU/obsidian-copyway/releases) ページから最新リリースをダウンロード
2. ファイルを Vault の `.obsidian/plugins/copyway/` フォルダに展開
3. Obsidian を再読み込み
4. 設定 → コミュニティプラグインでプラグインを有効化

## 使い方

### コピー先の設定

1. 設定 → Copyway を開く
2. 「Add」をクリックして新しいコピー先を作成
3. 各コピー先を設定:
   - **Path**: コピー先フォルダの絶対パス（例: `/Users/you/Documents/backup`）
   - **Description**: コピー先の表示名（例: "バックアップフォルダ"）
   - **Overwrite トグル**: 有効にすると既存ファイルを自動で上書き

### ファイルのコピー

アクティブなファイルをコピーする方法は2つあります:

1. **コマンドパレット**: コマンドパレット（`Cmd/Ctrl + P`）を開き、「Copy file to destination」を検索
2. **リボンアイコン**: 左サイドバーのコピーアイコンをクリック

### 動作

- **コピー先が1件**: ファイルは即座にコピーされます
- **コピー先が2件以上**: コピー先を選択するモーダルが表示されます
- **ファイルが存在（上書き無効時）**: 確認モーダルが表示され、以下から選択できます:
  - **Overwrite**: 既存ファイルを置き換え
  - **Rename**: 連番付きでコピー（例: `note_1.md`）
  - **Cancel**: コピー操作を中止

## 設定項目

| 設定 | 説明 |
|------|------|
| Path | コピー先フォルダの絶対パス |
| Description | コピー先選択時に表示される名前 |
| Overwrite | 有効にすると、既存ファイルを確認なしで上書き |

## 開発

```bash
# 依存関係のインストール
pnpm install

# 開発ビルド（ウォッチモード）
pnpm dev

# テストの実行
pnpm test

# プロダクションビルド
pnpm build

# すべての検証を実行
pnpm validate
```

## ライセンス

[0BSD](LICENSE) - 制限なく自由に使用できます。

## 作者

[wagomu](https://github.com/staticWagomU)
